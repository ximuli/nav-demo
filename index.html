<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="./style.css">
</head>
<body>	
    <main>
    	<div class="wrapper" id="main"></div>
    </main>
	<script>
		var keys = {
			'0': {0: 'q',1: 'w',2: 'e',3: 'r',4: 't',5: 'y',6: 'u',7: 'i',8: 'o',9: 'p',length: 10},
			'1': {0: 'a',1: 's',2: 'd',3: 'f',4: 'g',5: 'h',6: 'j',7: 'k',8: 'l',length: 9},
			'2': {0: 'z',1: 'x',2: 'c',3: 'v',4: 'b',5: 'n',6:'m',length: 7},
			'length': 3
		}

		var hash = {'q': 'www.qq.com'}

        //取出 localStorage 中zzz对应的hash
        hashInLocalStorage = JSON.parse(localStorage.getItem('zzz') || 'null');
        if (hashInLocalStorage) {
            hash = hashInLocalStorage;
        }

        //遍历keys，生成 kbd 标签
		var i = 0;
		while (i< keys['length']) {
            div = document.createElement('div');
            div.className = 'row';
            main.appendChild(div);
            row = keys[i];
            var j = 0;
            while (j<row['length']) {
                kbd = document.createElement('kbd');
                kbd.textContent = row[j];
                kbd.className = 'key';
                button = document.createElement('button');
                button.textContent = 'E';
                button.id = row[j];
                button.onclick = function (abc) {
                    key = abc.target.id;
                    x = prompt('请给我一个网址');
                    hash[key] = x;

                    //hash 变更后，存入localStorage
                    localStorage.setItem('zzz', JSON.stringify(hash));


                }
                kbd.appendChild(button);

                div.appendChild(kbd);
                j++;
            } 

            i++;
		}

		document.onkeypress = function (xyz) {
			key = xyz['key'];
			website = hash[key];
			//location.href = 'http://' + website;
			window.open( 'http://' + website , '_blank');
		}
	</script>
</body>
</html>